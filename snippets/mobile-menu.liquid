<!-- Mobile Menu -->
<div class="mobile-menu" id="MobileMenu" data-mobile-menu aria-hidden="true" role="dialog" aria-modal="true" aria-label="Navigation menu">
  <div class="mobile-menu__header">
    <a href="/" class="mobile-menu__logo">{{ shop.name }}</a>
    <button type="button" class="mobile-menu__close" data-menu-close aria-label="Close menu">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="24" height="24">
        <line x1="18" y1="6" x2="6" y2="18"/>
        <line x1="6" y1="6" x2="18" y2="18"/>
      </svg>
    </button>
  </div>

  <nav class="mobile-menu__nav" aria-label="Mobile navigation">
    <!-- New -->
    <div class="mobile-menu__item" data-accordion>
      <button type="button" class="mobile-menu__link" data-accordion-trigger aria-expanded="false">
        <span>New</span>
        <svg class="mobile-menu__arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
          <polyline points="6 9 12 15 18 9"/>
        </svg>
      </button>
      <div class="mobile-menu__submenu" data-accordion-content aria-hidden="true">
        <a href="/collections/all" class="mobile-menu__sublink">All New</a>
        <a href="/collections/all" class="mobile-menu__sublink">New This Week</a>
        <a href="/collections/all" class="mobile-menu__sublink">Back In Stock</a>
        <div class="mobile-menu__divider"></div>
        <a href="/collections/all" class="mobile-menu__sublink">Work Wardrobe</a>
        <a href="/collections/all" class="mobile-menu__sublink">Valentine's Day</a>
        <a href="/collections/all" class="mobile-menu__sublink">Pre-Spring Collection</a>
      </div>
    </div>

    <!-- Clothing -->
    <div class="mobile-menu__item" data-accordion>
      <button type="button" class="mobile-menu__link" data-accordion-trigger aria-expanded="false">
        <span>Clothing</span>
        <svg class="mobile-menu__arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
          <polyline points="6 9 12 15 18 9"/>
        </svg>
      </button>
      <div class="mobile-menu__submenu" data-accordion-content aria-hidden="true">
        <p class="mobile-menu__category">Tops</p>
        <a href="/collections/all" class="mobile-menu__sublink">All Tops</a>
        <a href="/collections/all" class="mobile-menu__sublink">T-Shirts</a>
        <a href="/collections/all" class="mobile-menu__sublink">Blouses</a>
        <a href="/collections/all" class="mobile-menu__sublink">Bodysuits</a>
        <div class="mobile-menu__divider"></div>
        <p class="mobile-menu__category">Bottoms</p>
        <a href="/collections/all" class="mobile-menu__sublink">All Bottoms</a>
        <a href="/collections/all" class="mobile-menu__sublink">Pants</a>
        <a href="/collections/all" class="mobile-menu__sublink">Jeans</a>
        <a href="/collections/all" class="mobile-menu__sublink">Skirts</a>
        <div class="mobile-menu__divider"></div>
        <p class="mobile-menu__category">Dresses</p>
        <a href="/collections/all" class="mobile-menu__sublink">All Dresses</a>
        <a href="/collections/all" class="mobile-menu__sublink">Mini</a>
        <a href="/collections/all" class="mobile-menu__sublink">Midi</a>
        <a href="/collections/all" class="mobile-menu__sublink">Maxi</a>
        <div class="mobile-menu__divider"></div>
        <p class="mobile-menu__category">Outerwear</p>
        <a href="/collections/all" class="mobile-menu__sublink">All Outerwear</a>
        <a href="/collections/all" class="mobile-menu__sublink">Jackets</a>
        <a href="/collections/all" class="mobile-menu__sublink">Coats</a>
        <a href="/collections/all" class="mobile-menu__sublink">Blazers</a>
      </div>
    </div>

    <!-- Direct Links -->
    <a href="/collections/all" class="mobile-menu__link">The Super Puffâ„¢</a>
    <a href="/collections/all" class="mobile-menu__link">Sweatfleece</a>
    <a href="/collections/all" class="mobile-menu__link">Accessories</a>
    <a href="/collections/all" class="mobile-menu__link">Brands</a>
  </nav>

  <div class="mobile-menu__footer">
    <div class="mobile-menu__footer-links">
      <a href="/account" class="mobile-menu__footer-link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="20" height="20">
          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
          <circle cx="12" cy="7" r="4"/>
        </svg>
        <span>Account</span>
      </a>
      <a href="/pages/wishlist" class="mobile-menu__footer-link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="20" height="20">
          <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
        </svg>
        <span>Wishlist</span>
      </a>
      <a href="/pages/stores" class="mobile-menu__footer-link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="20" height="20">
          <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
          <circle cx="12" cy="10" r="3"/>
        </svg>
        <span>Find a Store</span>
      </a>
    </div>

    <div class="mobile-menu__social">
      <a href="https://instagram.com" target="_blank" rel="noopener" aria-label="Instagram">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="20" height="20">
          <rect x="2" y="2" width="20" height="20" rx="5"/>
          <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/>
          <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/>
        </svg>
      </a>
      <a href="https://tiktok.com" target="_blank" rel="noopener" aria-label="TikTok">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
          <path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"/>
        </svg>
      </a>
      <a href="https://pinterest.com" target="_blank" rel="noopener" aria-label="Pinterest">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
          <path d="M12 0a12 12 0 0 0-4.37 23.17c-.1-.94-.2-2.4.04-3.44l1.4-5.97s-.36-.72-.36-1.78c0-1.67.97-2.92 2.17-2.92 1.02 0 1.52.77 1.52 1.69 0 1.03-.66 2.57-1 4-.28 1.2.6 2.17 1.78 2.17 2.14 0 3.78-2.26 3.78-5.5 0-2.88-2.07-4.9-5.02-4.9-3.42 0-5.43 2.57-5.43 5.22 0 1.03.4 2.14.9 2.74.1.12.11.22.08.34l-.34 1.36c-.05.22-.17.27-.4.16-1.5-.7-2.43-2.88-2.43-4.64 0-3.78 2.75-7.25 7.92-7.25 4.16 0 7.4 2.97 7.4 6.93 0 4.14-2.6 7.46-6.22 7.46-1.21 0-2.36-.63-2.75-1.38l-.75 2.85c-.27 1.04-1 2.35-1.49 3.15A12 12 0 1 0 12 0z"/>
        </svg>
      </a>
    </div>
  </div>
</div>

<style>
.mobile-menu {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: #fff;
  z-index: 10000;
  transform: translateX(-100%);
  transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.mobile-menu.is-open {
  transform: translateX(0);
}

@media (min-width: 1024px) {
  .mobile-menu {
    display: none !important;
  }
}

.mobile-menu__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 20px;
  border-bottom: 1px solid var(--color-border);
  flex-shrink: 0;
}

.mobile-menu__logo {
  font-family: var(--font-heading);
  font-size: 20px;
  font-weight: 400;
  letter-spacing: 0.15em;
  text-transform: uppercase;
}

.mobile-menu__close {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Navigation */
.mobile-menu__nav {
  flex: 1;
  overflow-y: auto;
  padding: 8px 0;
}

.mobile-menu__item {
  border-bottom: 1px solid var(--color-border-light);
}

.mobile-menu__link {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  padding: 18px 20px;
  font-family: var(--font-body);
  font-size: 15px;
  font-weight: 400;
  text-align: left;
  background: none;
  border: none;
  cursor: pointer;
  transition: background 0.2s ease;
}

.mobile-menu__link:hover {
  background: #f9f9f9;
}

.mobile-menu__arrow {
  transition: transform 0.3s ease;
}

.mobile-menu__item[data-accordion] .mobile-menu__link[aria-expanded="true"] .mobile-menu__arrow {
  transform: rotate(180deg);
}

/* Submenu */
.mobile-menu__submenu {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease;
  background: #f9f9f9;
}

.mobile-menu__submenu[aria-hidden="false"] {
  max-height: 1000px;
}

.mobile-menu__sublink {
  display: block;
  padding: 12px 20px 12px 32px;
  font-size: 14px;
  color: var(--color-text);
  transition: opacity 0.2s ease;
}

.mobile-menu__sublink:hover {
  opacity: 0.6;
}

.mobile-menu__category {
  padding: 16px 20px 8px 32px;
  font-size: 11px;
  font-weight: 500;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--color-text-muted);
}

.mobile-menu__divider {
  height: 1px;
  background: var(--color-border-light);
  margin: 8px 20px;
}

/* Footer */
.mobile-menu__footer {
  padding: 24px 20px;
  border-top: 1px solid var(--color-border);
  flex-shrink: 0;
}

.mobile-menu__footer-links {
  display: flex;
  gap: 24px;
  margin-bottom: 24px;
}

.mobile-menu__footer-link {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  font-size: 11px;
  color: var(--color-text-muted);
  transition: color 0.2s ease;
}

.mobile-menu__footer-link:hover {
  color: var(--color-text);
}

.mobile-menu__social {
  display: flex;
  gap: 20px;
}

.mobile-menu__social a {
  color: var(--color-text-muted);
  transition: color 0.2s ease;
}

.mobile-menu__social a:hover {
  color: var(--color-text);
}
</style>
