<!doctype html>
<html lang="{{ request.locale.iso_code }}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{ shop.name }} - {{ 'general.password_page.title' | t }}</title>
  {{ 'base.css' | asset_url | stylesheet_tag }}
</head>
<body>
  <section class="password-page">
    <div class="password-wrapper">
      <div class="password-logo">
        {%- if settings.logo != blank -%}
          <img src="{{ settings.logo | image_url: width: 300 }}" alt="{{ shop.name }}">
        {%- else -%}
          <h1>{{ shop.name }}</h1>
        {%- endif -%}
      </div>
      
      <h2 class="password-title">{{ 'general.password_page.opening_soon' | t }}</h2>
      
      {%- if shop.password_message != blank -%}
        <div class="password-message">{{ shop.password_message }}</div>
      {%- endif -%}
      
      <div class="password-login">
        <button type="button" class="password-login-btn" data-password-toggle>
          {{ 'general.password_page.login_form_heading' | t }}
        </button>
        
        <div class="password-form" data-password-form style="display: none;">
          {%- form 'storefront_password' -%}
            {%- if form.errors -%}
              <div class="form-errors">{{ form.errors | default_errors }}</div>
            {%- endif -%}
            
            <div class="form-field">
              <label for="Password">{{ 'general.password_page.password' | t }}</label>
              <input type="password" name="password" id="Password" required>
            </div>
            
            <button type="submit" class="btn btn--primary btn--full">
              {{ 'general.password_page.submit' | t }}
            </button>
          {%- endform -%}
        </div>
      </div>
      
      {%- if shop.email != blank -%}
        <div class="password-newsletter">
          <h3>{{ 'general.password_page.newsletter_heading' | t }}</h3>
          
          {%- form 'customer', id: 'newsletter-form' -%}
            <input type="hidden" name="contact[tags]" value="newsletter">
            
            <div class="newsletter-field">
              <input 
                type="email" 
                name="contact[email]" 
                placeholder="{{ 'general.password_page.email_placeholder' | t }}"
                required
              >
              <button type="submit" class="btn btn--primary">
                {{ 'general.password_page.subscribe' | t }}
              </button>
            </div>
          {%- endform -%}
        </div>
      {%- endif -%}
      
      <footer class="password-footer">
        <p>{{ 'general.password_page.admin_link_html' | t }}</p>
      </footer>
    </div>
  </section>
  
  <script>
    document.querySelector('[data-password-toggle]')?.addEventListener('click', function() {
      const form = document.querySelector('[data-password-form]');
      form.style.display = form.style.display === 'none' ? 'block' : 'none';
    });
  </script>
</body>
</html>

<style>
.password-page {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 40px 20px;
  background: linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%);
}

.password-wrapper {
  max-width: 500px;
  text-align: center;
}

.password-logo {
  margin-bottom: 40px;
}

.password-logo img {
  max-height: 50px;
}

.password-title {
  font-family: var(--font-heading);
  font-size: 32px;
  font-weight: 400;
  margin-bottom: 20px;
}

.password-message {
  color: var(--color-text-muted);
  margin-bottom: 40px;
  line-height: 1.6;
}

.password-login {
  margin-bottom: 40px;
}

.password-login-btn {
  background: none;
  border: none;
  text-decoration: underline;
  cursor: pointer;
  font-size: 14px;
  margin-bottom: 20px;
}

.password-form {
  background: #fff;
  padding: 30px;
  border-radius: 4px;
  margin-top: 20px;
}

.form-field {
  margin-bottom: 16px;
  text-align: left;
}

.form-field label {
  display: block;
  font-size: 12px;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: 8px;
}

.form-field input {
  width: 100%;
  padding: 14px 16px;
  border: 1px solid var(--color-border);
  font-size: 14px;
}

.password-newsletter {
  background: #fff;
  padding: 30px;
  border-radius: 4px;
  margin-bottom: 40px;
}

.password-newsletter h3 {
  font-size: 16px;
  margin-bottom: 20px;
}

.newsletter-field {
  display: flex;
  gap: 10px;
}

.newsletter-field input {
  flex: 1;
  padding: 14px 16px;
  border: 1px solid var(--color-border);
}

.password-footer {
  color: var(--color-text-muted);
  font-size: 12px;
}

.password-footer a {
  text-decoration: underline;
}
</style>

{% schema %}
{
  "name": "Password",
  "tag": "section",
  "class": "section-password"
}
{% endschema %}
