{%- comment -%}
  Aritzia-style Hero Banner
  - Full viewport height (100vh)
  - Text positioned at bottom left
  - Elegant typography
{%- endcomment -%}

<section class="hero" data-hero>
  {%- if section.blocks.size > 0 -%}
    {%- for block in section.blocks -%}
      <div class="hero__slide{% if forloop.first %} is-active{% endif %}" {{ block.shopify_attributes }}>
        
        {%- comment -%} Background Media {%- endcomment -%}
        <div class="hero__media">
          {%- if block.settings.video != blank -%}
            {{ block.settings.video | video_tag: autoplay: true, loop: true, muted: true, playsinline: true, class: 'hero__video' }}
          {%- elsif block.settings.image != blank -%}
            <picture>
              {%- if block.settings.image_mobile != blank -%}
                <source media="(max-width: 767px)" srcset="{{ block.settings.image_mobile | image_url: width: 800 }}">
              {%- endif -%}
              <img
                src="{{ block.settings.image | image_url: width: 1920 }}"
                srcset="{{ block.settings.image | image_url: width: 1920 }} 1920w, {{ block.settings.image | image_url: width: 1440 }} 1440w"
                alt="{{ block.settings.image.alt | default: block.settings.heading | escape }}"
                loading="{% if forloop.first %}eager{% else %}lazy{% endif %}"
                fetchpriority="{% if forloop.first %}high{% else %}auto{% endif %}"
                class="hero__image"
              >
            </picture>
          {%- else -%}
            {%- comment -%} Beautiful gradient placeholder {%- endcomment -%}
            <div class="hero__placeholder"></div>
          {%- endif -%}
        </div>

        {%- comment -%} Overlay {%- endcomment -%}
        {%- if block.settings.show_overlay -%}
          <div class="hero__overlay" style="--overlay-opacity: {{ block.settings.overlay_opacity | divided_by: 100.0 }};"></div>
        {%- endif -%}

        {%- comment -%} Content - Bottom Left {%- endcomment -%}
        <div class="hero__content container">
          <div class="hero__text-block">
            {%- if block.settings.subheading != blank -%}
              <p class="hero__subheading">{{ block.settings.subheading }}</p>
            {%- endif -%}
            {%- if block.settings.heading != blank -%}
              <h1 class="hero__heading">{{ block.settings.heading }}</h1>
            {%- endif -%}
            {%- if block.settings.text != blank -%}
              <div class="hero__description">{{ block.settings.text }}</div>
            {%- endif -%}
            {%- if block.settings.button_label != blank -%}
              <div class="hero__actions">
                <a href="{{ block.settings.button_link | default: '#' }}" class="hero__button">
                  {{ block.settings.button_label }}
                </a>
              </div>
            {%- endif -%}
          </div>
        </div>
      </div>
    {%- endfor -%}
  {%- endif -%}
</section>

<style>
  .hero {
    position: relative;
    width: 100%;
    height: 100vh;
    min-height: 600px;
    overflow: hidden;
  }

  .hero__slide {
    position: absolute;
    inset: 0;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.6s ease, visibility 0.6s ease;
  }

  .hero__slide.is-active {
    position: relative;
    opacity: 1;
    visibility: visible;
  }

  /* Media */
  .hero__media {
    position: absolute;
    inset: 0;
  }

  .hero__image,
  .hero__video {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
  }

  /* Placeholder - Elegant dark gradient */
  .hero__placeholder {
    width: 100%;
    height: 100%;
    background: linear-gradient(
      145deg,
      #0a0a0a 0%,
      #1a1a1a 30%,
      #2d2d2d 60%,
      #1a1a1a 80%,
      #0a0a0a 100%
    );
    position: relative;
  }

  .hero__placeholder::before {
    content: '';
    position: absolute;
    inset: 0;
    background: 
      radial-gradient(ellipse at 20% 80%, rgba(255,255,255,0.03) 0%, transparent 50%),
      radial-gradient(ellipse at 80% 20%, rgba(255,255,255,0.02) 0%, transparent 40%);
  }

  /* Overlay */
  .hero__overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(
      to top,
      rgba(0, 0, 0, 0.4) 0%,
      rgba(0, 0, 0, 0.1) 40%,
      transparent 100%
    );
    pointer-events: none;
  }

  /* Content - Bottom Left */
  .hero__content {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: flex-end;
    padding-bottom: 80px;
  }

  @media (min-width: 768px) {
    .hero__content {
      padding-bottom: 100px;
    }
  }

  .hero__text-block {
    max-width: 600px;
    color: #ffffff;
  }

  .hero__subheading {
    font-family: var(--font-body);
    font-size: 11px;
    font-weight: 400;
    text-transform: uppercase;
    letter-spacing: 0.2em;
    margin-bottom: 16px;
    opacity: 0.9;
  }

  .hero__heading {
    font-family: 'Playfair Display', 'Cormorant Garamond', Georgia, serif;
    font-size: 36px;
    font-weight: 400;
    line-height: 1.1;
    letter-spacing: -0.01em;
    margin: 0 0 20px 0;
  }

  @media (min-width: 768px) {
    .hero__heading {
      font-size: 52px;
    }
  }

  @media (min-width: 1024px) {
    .hero__heading {
      font-size: 64px;
    }
  }

  .hero__description {
    font-size: 15px;
    line-height: 1.6;
    margin-bottom: 24px;
    opacity: 0.9;
    max-width: 450px;
  }

  .hero__description p {
    margin: 0;
  }

  .hero__actions {
    display: flex;
    gap: 16px;
  }

  .hero__button {
    display: inline-block;
    padding: 14px 32px;
    font-family: var(--font-body);
    font-size: 12px;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: #000000;
    background-color: #ffffff;
    border: none;
    text-decoration: none;
    transition: all 0.3s ease;
  }

  .hero__button:hover {
    background-color: #000000;
    color: #ffffff;
    opacity: 1;
  }

  /* Scroll indicator */
  .hero::after {
    content: '';
    position: absolute;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    width: 1px;
    height: 40px;
    background: linear-gradient(to bottom, rgba(255,255,255,0.6), transparent);
    animation: scrollPulse 2s ease-in-out infinite;
  }

  @keyframes scrollPulse {
    0%, 100% { opacity: 0.6; }
    50% { opacity: 0.2; }
  }
</style>

{% schema %}
{
  "name": "Hero Banner",
  "class": "section-hero",
  "settings": [],
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "settings": [
        {
          "type": "header",
          "content": "Media"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "image_picker",
          "id": "image_mobile",
          "label": "Mobile image"
        },
        {
          "type": "video",
          "id": "video",
          "label": "Video (overrides image)"
        },
        {
          "type": "header",
          "content": "Overlay"
        },
        {
          "type": "checkbox",
          "id": "show_overlay",
          "label": "Show gradient overlay",
          "default": true
        },
        {
          "type": "range",
          "id": "overlay_opacity",
          "label": "Overlay opacity",
          "min": 0,
          "max": 100,
          "step": 10,
          "default": 40,
          "unit": "%"
        },
        {
          "type": "header",
          "content": "Content"
        },
        {
          "type": "text",
          "id": "subheading",
          "label": "Subheading",
          "default": "New Season"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Spring Collection"
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "Description"
        },
        {
          "type": "text",
          "id": "button_label",
          "label": "Button label",
          "default": "Shop Now"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Hero Banner",
      "blocks": [
        {
          "type": "slide",
          "settings": {
            "subheading": "New Season",
            "heading": "Spring Collection",
            "button_label": "Shop Now"
          }
        }
      ]
    }
  ]
}
{% endschema %}
