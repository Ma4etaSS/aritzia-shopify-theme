<section class="blog-page">
  <div class="container">
    <h1 class="blog-title">{{ blog.title }}</h1>
    
    {%- if blog.articles.size > 0 -%}
      {%- paginate blog.articles by 12 -%}
        <div class="articles-grid">
          {%- for article in blog.articles -%}
            <article class="article-card">
              <a href="{{ article.url }}" class="article-card__link">
                {%- if article.image -%}
                  <div class="article-card__image">
                    <img 
                      src="{{ article.image | image_url: width: 600 }}"
                      alt="{{ article.title }}"
                      loading="lazy"
                    >
                  </div>
                {%- endif -%}
                
                <div class="article-card__content">
                  {%- if article.tags.size > 0 -%}
                    <span class="article-card__tag">{{ article.tags.first }}</span>
                  {%- endif -%}
                  
                  <h2 class="article-card__title">{{ article.title }}</h2>
                  
                  <p class="article-card__excerpt">{{ article.excerpt_or_content | strip_html | truncate: 150 }}</p>
                  
                  <div class="article-card__meta">
                    <time datetime="{{ article.published_at | date: '%Y-%m-%d' }}">
                      {{ article.published_at | date: format: 'date' }}
                    </time>
                    {%- if article.comments_count > 0 -%}
                      <span>{{ article.comments_count }} {{ 'blogs.comments.comments' | t }}</span>
                    {%- endif -%}
                  </div>
                </div>
              </a>
            </article>
          {%- endfor -%}
        </div>
        
        {%- if paginate.pages > 1 -%}
          <nav class="pagination" aria-label="Pagination">
            {%- if paginate.previous -%}
              <a href="{{ paginate.previous.url }}" class="pagination__link">← Previous</a>
            {%- endif -%}
            
            <span class="pagination__current">Page {{ paginate.current_page }} of {{ paginate.pages }}</span>
            
            {%- if paginate.next -%}
              <a href="{{ paginate.next.url }}" class="pagination__link">Next →</a>
            {%- endif -%}
          </nav>
        {%- endif -%}
      {%- endpaginate -%}
    {%- else -%}
      <p class="no-articles">{{ 'blogs.article.no_articles' | t }}</p>
    {%- endif -%}
  </div>
</section>

<style>
.blog-page {
  padding: calc(var(--header-height) + var(--announcement-height) + 40px) 0 80px;
}

.blog-title {
  font-family: var(--font-heading);
  font-size: 32px;
  font-weight: 400;
  text-align: center;
  margin-bottom: 40px;
}

.articles-grid {
  display: grid;
  gap: 40px;
}

@media (min-width: 768px) {
  .articles-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (min-width: 1024px) {
  .articles-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

.article-card__image {
  aspect-ratio: 16/10;
  overflow: hidden;
  margin-bottom: 20px;
}

.article-card__image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.4s ease;
}

.article-card:hover .article-card__image img {
  transform: scale(1.03);
}

.article-card__tag {
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--color-text-muted);
}

.article-card__title {
  font-size: 20px;
  font-weight: 500;
  margin: 10px 0;
  line-height: 1.3;
}

.article-card__excerpt {
  font-size: 14px;
  color: var(--color-text-muted);
  line-height: 1.6;
  margin-bottom: 16px;
}

.article-card__meta {
  display: flex;
  gap: 16px;
  font-size: 12px;
  color: var(--color-text-muted);
}

.no-articles {
  text-align: center;
  color: var(--color-text-muted);
  padding: 60px 0;
}

.pagination {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 20px;
  margin-top: 40px;
}
</style>

{% schema %}
{
  "name": "Blog",
  "tag": "section",
  "class": "section-blog"
}
{% endschema %}
